{"ast":null,"code":"import React,{useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function PatientRegistration(){const[patient,setPatient]=useState({name:\"\",age:\"\",past_issues:\"\",current_medications:\"\",heart_rate_file:null});const handleChange=e=>{const{name,value}=e.target;setPatient({...patient,[name]:value});};const handleFileChange=e=>{setPatient({...patient,heart_rate_file:e.target.files[0]});};const handleSubmit=async e=>{e.preventDefault();const formData=new FormData();formData.append(\"name\",patient.name);formData.append(\"age\",patient.age);formData.append(\"past_issues\",patient.past_issues);formData.append(\"current_medications\",patient.current_medications);if(patient.heart_rate_file){formData.append(\"csv_file\",patient.heart_rate_file);// Correctly append file\n}try{const response=await fetch(\"http://127.0.0.1:5000/patient/register\",{method:\"POST\",body:formData// No need for `Content-Type`, fetch handles it\n});const data=await response.json();alert(data.message||\"Patient added successfully!\");}catch(error){console.error(\"Error:\",error);alert(\"Failed to add patient.\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 max-w-md mx-auto bg-white shadow-md rounded-lg\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-4\",children:\"Patient Registration\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",placeholder:\"Name\",value:patient.name,onChange:handleChange,required:true,className:\"w-full p-2 border rounded mb-2\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"age\",placeholder:\"Age\",value:patient.age,onChange:handleChange,required:true,className:\"w-full p-2 border rounded mb-2\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"past_issues\",placeholder:\"Past Issues\",value:patient.past_issues,onChange:handleChange,className:\"w-full p-2 border rounded mb-2\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"current_medications\",placeholder:\"Current Medications\",value:patient.current_medications,onChange:handleChange,className:\"w-full p-2 border rounded mb-2\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"heart_rate_file\",onChange:handleFileChange,className:\"w-full p-2 border rounded mb-2\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full bg-blue-500 text-white py-2 rounded\",children:\"Register\"})]})]});}","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","PatientRegistration","patient","setPatient","name","age","past_issues","current_medications","heart_rate_file","handleChange","e","value","target","handleFileChange","files","handleSubmit","preventDefault","formData","FormData","append","response","fetch","method","body","data","json","alert","message","error","console","className","children","onSubmit","type","placeholder","onChange","required"],"sources":["/Applications/U CS/Y-3/S-2/CLOUD AIML/Cloud Based AIML For Mental Health Support/frontend/src/patient/PatientRegistration.js"],"sourcesContent":["import React, { useState } from \"react\";\n\nexport default function PatientRegistration() {\n  const [patient, setPatient] = useState({\n    name: \"\",\n    age: \"\",\n    past_issues: \"\",\n    current_medications: \"\",\n    heart_rate_file: null,\n  });\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setPatient({ ...patient, [name]: value });\n  };\n\n  const handleFileChange = (e) => {\n    setPatient({ ...patient, heart_rate_file: e.target.files[0] });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    const formData = new FormData();\n    formData.append(\"name\", patient.name);\n    formData.append(\"age\", patient.age);\n    formData.append(\"past_issues\", patient.past_issues);\n    formData.append(\"current_medications\", patient.current_medications);\n    if (patient.heart_rate_file) {\n        formData.append(\"csv_file\", patient.heart_rate_file); // Correctly append file\n    }\n\n    try {\n        const response = await fetch(\"http://127.0.0.1:5000/patient/register\", {\n            method: \"POST\",\n            body: formData, // No need for `Content-Type`, fetch handles it\n        });\n\n        const data = await response.json();\n        alert(data.message || \"Patient added successfully!\");\n    } catch (error) {\n        console.error(\"Error:\", error);\n        alert(\"Failed to add patient.\");\n    }\n};\n\n  return (\n    <div className=\"p-4 max-w-md mx-auto bg-white shadow-md rounded-lg\">\n      <h2 className=\"text-xl font-bold mb-4\">Patient Registration</h2>\n      <form onSubmit={handleSubmit}>\n        <input type=\"text\" name=\"name\" placeholder=\"Name\" value={patient.name} onChange={handleChange} required className=\"w-full p-2 border rounded mb-2\" />\n        <input type=\"number\" name=\"age\" placeholder=\"Age\" value={patient.age} onChange={handleChange} required className=\"w-full p-2 border rounded mb-2\" />\n        <input type=\"text\" name=\"past_issues\" placeholder=\"Past Issues\" value={patient.past_issues} onChange={handleChange} className=\"w-full p-2 border rounded mb-2\" />\n        <input type=\"text\" name=\"current_medications\" placeholder=\"Current Medications\" value={patient.current_medications} onChange={handleChange} className=\"w-full p-2 border rounded mb-2\" />\n        <input type=\"file\" name=\"heart_rate_file\" onChange={handleFileChange} className=\"w-full p-2 border rounded mb-2\" />\n        <button type=\"submit\" className=\"w-full bg-blue-500 text-white py-2 rounded\">Register</button>\n      </form>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}